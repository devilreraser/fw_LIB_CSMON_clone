/* *****************************************************************************
 * File:   spi_drv.c
 * Author: Dimitar Lilov
 *
 * Created on 2020 04 10 22:50
 * 
 * Description: ...
 * 
 **************************************************************************** */
#ifdef _WIN32
#pragma once
#endif /* _WIN32 */

/* *****************************************************************************
 * Header Includes
 **************************************************************************** */
#include "spi_drv.h"
#include "sys_drv.h"
#include "system.h"

/* *****************************************************************************
 * Configuration Definitions
 **************************************************************************** */

/* *****************************************************************************
 * Constants and Macros Definitions
 **************************************************************************** */

/* *****************************************************************************
 * Enumeration Definitions
 **************************************************************************** */

/* *****************************************************************************
 * Type Definitions
 **************************************************************************** */

/* *****************************************************************************
 * Function-Like Macros
 **************************************************************************** */

/* *****************************************************************************
 * Variables Definitions
 **************************************************************************** */

/* *****************************************************************************
 * Prototype of functions definitions
 **************************************************************************** */

/* *****************************************************************************
 * Functions
 **************************************************************************** */
void SPI_DRV_vInit(void)
{
    #ifndef BOARDCFG_USE_MCC_SPI
    SPIMEM_vInit(CLK_DRV_u32GetFcy());
    #if USE_SPI_DAC
    SPIDAC_vInit(CLK_DRV_u32GetFcy());
    #endif
    #else

    #if BOARDCFG_USE_SPI_1
    SPI1_Initialize();
    #endif
    #if BOARDCFG_USE_SPI_2
    SPI2_Initialize();
    #endif
    #if BOARDCFG_USE_SPI_3
    SPI3_Initialize();
    #endif

    SPIMEM_vInit(CLK_DRV_u32GetFcy());
    #if USE_SPI_DAC
    SPIDAC_vInit(CLK_DRV_u32GetFcy());
    #endif
    #endif    
}


    
